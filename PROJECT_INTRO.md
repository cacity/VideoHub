# VideoHub 项目介绍

VideoHub 是一个面向内容创作者、自媒体和知识工作者的视频“全流程”处理工具。

项目地址：https://github.com/cacity/VideoHub

它将多平台视频下载、语音转录、双语字幕生成、内容摘要、直播录制等能力整合在一个桌面应用中，配合浏览器扩展和闲时调度系统，帮助用户在不打断日常工作的前提下，高效整理视频内容。

---

## 一、主要功能概览

- 多平台视频下载：支持 YouTube、Twitter/X、抖音、Bilibili 等主流平台，既可以下载完整视频，也可以只提取音频。
- 智能语音转录：调用 OpenAI Whisper 模型，将视频/音频中的语音精确转成文字。
- 双语字幕与字幕嵌入：自动生成中英双语字幕（SRT/VTT/ASS 等），并可将字幕直接烧录进视频。
- 内容摘要与文章生成：通过大语言模型（支持 OpenAI、DeepSeek 等），对转录文本进行摘要和结构化整理，生成 Markdown 文章。
- 批量处理和闲时队列：支持批量导入多平台链接，并在设置好的“闲时”自动执行，日常工作时间只需添加任务。
- Chrome 浏览器扩展：在 YouTube/Twitter/Bilibili 等视频页面自动出现“添加到下载队列”按钮，一键把当前视频加入桌面端的处理队列。
- 本地文件与纯文本处理：不仅支持在线播放视频，也支持本地音视频文件和已有文本的转录、翻译与摘要。
- 直播录制：可监控多平台直播间，在开播时自动录制，结束后自动保存到本地并记录日志。
- 历史记录与模板系统：内置下载/处理历史列表及可自定义的文章模板，便于管理成果和统一输出格式。

---

## 二、典型使用流程

![](https://raw.githubusercontent.com/cacityfauh-ui/MyPic/master/pic/20251207183041582.png)

1. 用户在浏览器中打开一个 YouTube 或抖音视频，复制链接（抖音甚至可以直接复制“分享文本”）。
2. 在桌面应用“在线视频”页，将光标放在 URL 输入框，右键即可自动粘贴并识别平台类型。
3. 勾选需要的操作：下载视频、提取音频、转录、翻译、生成双语字幕、生成内容摘要等。
4. 点击“开始处理”，任务会在后台运行，完成后在“下载历史”中可以看到生成的视频、字幕和文章文件。
5. 如果不想当时占用资源，也可以通过浏览器扩展或应用界面，将任务加入“闲时队列”，由程序在夜间自动批量运行。

---

## 三、关键功能的实现思路

### 1. 多平台下载与解析

VideoHub 的下载核心基于 `yt-dlp` 等成熟工具：

- 对 YouTube、Twitter/X、Bilibili 等站点，统一通过一个下载引擎处理，不同平台只是参数和解析规则不同。
- 对抖音做了专门适配：可以直接解析“复制分享”的整段文本，从中自动提取真实视频地址，并支持无水印下载。
- 对需要登录的内容，支持加载浏览器导出的 Cookie 文件，从而访问私有或地区限制的视频。

通过这种方式，应用不用为每个新网站单独实现完整下载逻辑，而是利用 `yt-dlp` 的网站适配能力，加上少量平台识别和参数封装，就能覆盖大量站点。

### 2. 语音转录与字幕生成

语音转录部分以 OpenAI Whisper 为核心：

- 下载完成的视频/音频文件先按需转成适合转录的音频格式，再送入 Whisper 模型。
- Whisper 输出中本身包含时间轴信息，程序根据时间戳切分为一句一句的字幕行，生成标准 SRT/VTT/ASS 文件。
- 对英文内容，可在转录后调用大模型进行机器翻译，将英文句子与中文翻译配对，排版成中英双语字幕。
- 对不支持原生字幕的平台（如部分 Twitter/抖音视频），也能通过这一流程实现“从零开始”的字幕制作。

### 3. 内容摘要与模板化输出

在获得完整转录文本后：

- 程序会按段落将长文本切分，调用 OpenAI 或 DeepSeek 等 LLM，生成摘要、要点提炼、段落小标题等。
- 用户可以在设置中编写自己的 Markdown 模板，通过 `{content}` 等占位符控制生成文章的结构，比如：
  - 开头简介
  - 核心要点列表
  - 详细分节内容
- 模板机制让同一类视频可以用统一的结构输出，方便做专栏、播客文字稿或知识库沉淀。

### 4. 批量处理与闲时调度

为了避免在工作时间被大量下载和转录任务占满 CPU/带宽，VideoHub 内置了一个“闲时调度系统”：

- 用户白天只需要不停往队列里添加 URL（通过应用界面或浏览器扩展）。
- 程序将这些任务以结构化数据保存到本地，并记录需要执行的操作（下载/转录/翻译等）。
- 定时器组件会周期性检查当前时间是否落在用户设置的“闲时区间”（如 23:00–07:00）。
- 一旦进入闲时，就按照队列顺序自动执行任务，并在界面上实时更新进度。

这种设计将“工作流驱动”与“时间调度”结合起来，适合重度使用场景。

### 5. Chrome 扩展与桌面应用通信

Chrome 扩展负责把浏览器里的视频页面与本地桌面应用连起来：

![](https://raw.githubusercontent.com/cacityfauh-ui/MyPic/master/pic/20251207183341381.png)

- 内容脚本注入视频页面，检测当前是否为支持平台，如果是就在合适位置插入“添加到下载队列”按钮。
- 用户点击按钮后，扩展通过后台脚本向本地运行的 HTTP API 发送请求（默认端口为固定本地端口），携带视频标题、链接等信息。
- 桌面应用收到请求后，把任务加入闲时队列或立即处理，并将结果回传给扩展，扩展再更新按钮状态和提示信息。

通过这套 HTTP API 设计，浏览器和本地程序解耦良好，也为未来扩展到其他客户端（例如命令行或手机端）留出了空间。

### 6. 直播录制与监控

直播录制模块主要由三部分组成：（这部分功能待完善）

- 直播间监控：定期访问各平台的直播间页面或接口，判断主播是否开播。
- 录制控制：开播时启动 FFmpeg 进程，直接抓取直播流保存为 TS/FLV/MP4 等格式；下播后自动结束进程并保存文件。
- 通知与日志：可选配置钉钉、PushPlus、邮件等推送方式，在开播或录制出错时提醒用户，同时记录详细日志便于排查。

这一模块同样基于异步和定时任务，和闲时调度一样属于“后台持续运行型”功能。

---

## 四、适用人群与价值

- 做知识整理的内容创作者：可以把长视频转成结构化文字稿、摘要和双语字幕。
- 需要批量下载和备份视频的人：轻松用闲时批处理大量链接，减少手动操作。
- 直播录制和剪辑工作者：自动录制并管理多平台直播源。
- 需要多平台视频素材的团队：用同一工具链覆盖 YouTube、Twitter、抖音、Bilibili 等平台。

通过将下载、转录、翻译、摘要、调度、浏览器扩展和直播录制整合在一个项目中，VideoHub 让“从网络视频到可编辑文本和结构化知识”的路径变得非常短，也更适合在日常工作中高频使用。

